<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ランダムガチャ画像</title>
<style>
body{
  background:#f6f8fa;
  font-family:sans-serif;
  margin:0;
  padding:20px;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.gacha-box{
  width:350px;
  background:#fff;
  padding:20px;
  border-radius:20px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
  text-align:center;
}
.gacha-btn, .retry-btn{
  background:#ff6384;
  color:#fff;
  border:none;
  padding:12px 20px;
  border-radius:30px;
  cursor:pointer;
  font-size:18px;
  margin-top:10px;
}
.gacha-btn:hover, .retry-btn:hover{
  opacity:0.8;
}
#result-img{
  width:100%;
  margin-top:20px;
  border-radius:14px;
  display:none;
}
.save-btn{
  display:none;
  margin-top:10px;
  background:#3b82f6;
  color:#fff;
  border:none;
  padding:10px 18px;
  border-radius:30px;
  cursor:pointer;
}
.save-btn:hover{
  opacity:0.8;
}
.retry-btn{
  position:fixed;
  right:20px;
  bottom:20px;
  background:#22c55e;
}
</style>
</head>
<body>
<div class="gacha-box">
  <button class="gacha-btn" style="background:#6b5cff;margin-bottom:10px;" onclick="goDress()">着せ替えページ</button>
  <h2>ガチャポンを回す！</h2>
  <button class="gacha-btn" onclick="rollGacha()">回す</button>
  <img id="result-img" />
  <button id="saveBtn" class="save-btn" onclick="saveImage()">画像を保存</button>
</div>
<button class="retry-btn" onclick="rollGacha()">もう一度回す</button>

<script>
// ★ GitHub の raw 画像 URL を配列に登録してください
const images = [
  "https://raw.githubusercontent.com/yourname/yourrepo/main/img1.png",
  "https://raw.githubusercontent.com/yourname/yourrepo/main/img2.png",
  "https://raw.githubusercontent.com/yourname/yourrepo/main/img3.png"
];

function rollGacha(){
  const img = document.getElementById("result-img");
  const saveBtn = document.getElementById("saveBtn");

  // ランダム選択
  const rand = Math.floor(Math.random() * images.length);
  img.src = images[rand];
  img.style.display = "block";
  saveBtn.style.display = "inline-block";
}

function saveImage(){
  const img = document.getElementById("result-img");
  const link = document.createElement("a");
  link.href = img.src;
  link.download = "gacha_image.png";
  link.click();
}
function goDress(){
  window.location.href = "https://zzcafe-280.github.io/zztama-kisekae/"; // ★ここに遷移したいURLを入れてください
}

</script>
<div id="videoOverlay" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:black;z-index:9999;justify-content:center;align-items:center;">
  <video id="gachaVideo" src="https://raw.githubusercontent.com/yourname/yourrepo/main/gyatyaponn.mp4" style="width:100%;height:100%;object-fit:cover;" playsinline></video>
</div>
<script>
const videoOverlay = document.getElementById("videoOverlay");
const gachaVideo = document.getElementById("gachaVideo");

function rollGacha(){
  videoOverlay.style.display = "flex";
  gachaVideo.currentTime = 0;
  gachaVideo.play();

  gachaVideo.onended = () => {
    videoOverlay.style.display = "none";

    const img = document.getElementById("result-img");
    const saveBtn = document.getElementById("saveBtn");
    const rand = Math.floor(Math.random() * images.length);
    img.src = images[rand];
    img.style.display = "block";
    saveBtn.style.display = "inline-block";
  };
}
</script>
</body>
</html>
